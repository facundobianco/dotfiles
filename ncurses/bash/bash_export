# PS1
# https://scriptim.github.io/bash-prompt-generator
if [ "$TERM_PROGRAM" = "platformio-ide-terminal" ]; then
  export PS1="\W> "
fi
if [ "$TERM" = "xterm-kitty" ]; then
  export PROMPT_COMMAND="echo -ne '\033]0;🐱 kiTTY\007'"
  export PS1='\[\e[0;2;3;38m\]💻:\W $> \[\e[0m\]'
fi

# source-highlight
export LESSOPEN="| /usr/share/source-highlight/src-hilite-lesspipe.sh %s"
export LESS=' -R '

# K3D autocomple
if command -v k3d &> /dev/null; then
  source <(k3d completion bash)
fi

# K8S autocomple
if command -v kubectl &> /dev/null; then
  source <(kubectl completion bash)
fi

# FluxCD autocomple
if command -v flux &> /dev/null; then
  source <(flux completion bash)
fi

# brew avoid auto-update
export HOMEBREW_NO_AUTO_UPDATE=1

# bc
export BC_ENV_ARGS="-q -l $HOME/.bcrc"
